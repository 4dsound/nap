{
	"Objects":
	[
		{
			"Type" : "nap::RenderWindow",
			"mID" : "Window",
			"Width" : 1280,
			"Height" : 720,
			"Title" : "Etherdream",
			"Sync" : "false"
		},

		{
			"Type" : "nap::OSCReceiver",
			"mID" : "OscReceiver",
			"Port" : 7000
		},

		{
			"Type" : "nap::Shader",
			"mID": "LineShader",
			"mVertShader": "shaders/etherdream/line.vert",
			"mFragShader": "shaders/etherdream/line.frag"
		},

		{
			"Type" : "nap::Shader",
			"mID": "CanvasShader",
			"mVertShader": "shaders/etherdream/canvas.vert",
			"mFragShader": "shaders/etherdream/canvas.frag"
		},

		{
			"Type" : "nap::Shader",
			"mID": "NormalsShader",
			"mVertShader": "shaders/etherdream/normals.vert",
			"mFragShader": "shaders/etherdream/normals.frag"
		},

		{
			"Type" : "nap::Image",
			"mID" : "CanvasImage",
			"mImagePath" : "data/etherdream/laser_canvas.png"
		},

		{
			"Type" : "nap::Image",
			"mID" : "ColorLookupImage",
			"mImagePath" : "data/etherdream/color_gradient.png"
		},

		{
			"Type" : "nap::PlaneMesh",
			"mID" : "CanvasMesh"
		},

		{
			"Type" : "nap::LineFromFile",
			"mID": "LineFromFileMesh",
			"File" : "./data/etherdream/swirl.svg",
			"Tolerance" : 0.1,
			"Units" : "mm",
			"Normalize" : true,
			"Scale" : 2.0,
			"FlipVertical" : true,
			"LineIndex" : 0
		},

		{
			"Type" : "nap::Line",
			"mID": "LineMesh",
			"Start" :
			{
				"x": -1.0,
				"y": 0.0,
				"z": 0.0
			},
			"End" :
			{
				"x": 1.0,
				"y": 0.0,
				"z": 0.0
			},
			"Closed" : false
		},

		{
			"Type" : "nap::Rectangle",
			"mID": "RectangleMesh",
			"Dimensions":
			{
				"x":2,
				"y":2
			}
		},

		{
			"Type" : "nap::Circle",
			"mID": "CircleMesh",
			"Radius":1.0,
			"Segments" : 200
		},

		{
			"Type" : "nap::Hexagon",
			"mID": "HexagonMesh",
			"Radius":1.0
		},

		{
			"Type" : "nap::Triangle",
			"mID": "TriangleMesh",
			"Radius":1.0
		},

		{
			"Type" : "nap::Line",
			"mID": "LaserLineMesh",
			"Vertices" : 500,
			"Closed" : false
		},

		{
			"Type" : "nap::Line",
			"mID": "LaserTraceMesh",
			"Vertices" : 500,
			"Closed" : false
		},

		{
			"Type" : "nap::VisualizeNormalsMesh",
			"mID" : "NormalsMesh",
			"ReferenceMesh" : "LaserLineMesh",
			"Length" : 0.1
		},

		{
			"Type" : "nap::Material",
			"mID": "LineMaterial",
			"Shader": "LineShader",
			"VertexAttributeBindings" : [
				{
					"MeshAttributeID": "Position",
					"ShaderAttributeID": "in_Position"
				},
				{
					"MeshAttributeID": "UV0",
					"ShaderAttributeID": "in_UV0"
				},
				{
					"MeshAttributeID": "Color0",
					"ShaderAttributeID": "in_Color0"
				},
				{
					"MeshAttributeID": "Normal",
					"ShaderAttributeID": "in_Normals"
				}
			]			
		},

		{
			"Type" : "nap::Material",
			"mID": "NormalsMaterial",
			"Shader": "NormalsShader",
			"VertexAttributeBindings" : 
			[
				{
					"MeshAttributeID": "Position",
					"ShaderAttributeID": "in_Position"
				},
				{
					"MeshAttributeID": "Color0",
					"ShaderAttributeID": "in_Color0"
				}
			],
			"Uniforms" : 
			[
				{
					"Type" : "nap::UniformVec4",
					"Name" : "mColor",
					"Value" : 
					{
						"x" : 1.0,
						"y" : 1.0,
						"z" : 0.0,
						"w" : 1.0
					}
				}
			]		
		},

		{
			"Type" : "nap::Material",
			"mID": "CanvasMaterial",
			"Shader": "CanvasShader",
			"VertexAttributeBindings" : 
			[
				{
					"MeshAttributeID": "Position",
					"ShaderAttributeID": "in_Position"
				},
				{
					"MeshAttributeID": "UV0",
					"ShaderAttributeID": "in_UV0"
				},
				{
					"MeshAttributeID": "Color0",
					"ShaderAttributeID": "in_Color0"
				}
			],
			"Uniforms" : 
			[
				{
					"Type" : "nap::UniformTexture2D",
					"Name" : "mCanvas",
					"Texture" : "CanvasImage"
				},
				{
					"Type" : "nap::UniformVec3",
					"Name" : "mColor",
					"Value" : 
					{
						"x" : 0.0,
						"y" : 1.0,
						"z" : 0.0
					}
				}
			]
		},

		{
			"Type" : "nap::EtherDreamDac",
			"mID": "Laser1",
			"DacName": "dc3c10",
			"PointRate": "30000"
		},

		{
			"Type" : "nap::EtherDreamDac",
			"mID": "Laser2",
			"DacName": "dbf6d0",
			"PointRate": "30000"
		},

		{
			"Type" : "nap::EtherDreamDac",
			"mID": "Laser3",
			"DacName": "5a660f",
			"PointRate": "30000"
		},

		{
			"Type" : "nap::EtherDreamDac",
			"mID": "Laser4",
			"DacName": "593834",
			"PointRate": "30000"
		},

		{
			"Type" : "nap::Entity",
			"mID" : "LaserPrototypeEntity",

			"Components" :
			[
				{
					"Type" : "nap::TransformComponent"
				}
			],
			"Children" : 
			[
				"SplineEntity",
				"LaserOutputEntity",
				"CameraEntity"
			]
		},

		{
			"Type" : "nap::Entity",
			"mID": "CameraEntity",
			"Components" : 
			[
				{
					"Type" : "nap::PerspCameraComponent",
					"Properties": {
						"FieldOfView": 45.0,
						"NearClippingPlane" : 0.01,
						"FarClippingPlane" : 10000.0
					}
				},
				{
					"Type" : "nap::TransformComponent",
					"Properties": {
						"Translate": {
							"x": 0.0,
							"y": 0.0,
							"z": 675.0
						},
						"Rotate": {
							"x": 0.0,
							"y": 0.0,
							"z": 0.0
						},
						"Scale": {
							"x": 1.0,
							"y": 1.0,
							"z": 1.0
						},
						"UniformScale": 1.0						
					}
				}
			]
		},

		{
			"Type" : "nap::Entity",
			"mID": "SplineEntity",

			"Components" : 
			[
				{
					"Type" : "nap::LineSelectionComponent",
					"mID" : "LineSelectorOne",
					"Lines" :
					[
						"LineFromFileMesh",
						"LineMesh",
						"RectangleMesh",
						"CircleMesh",
						"HexagonMesh",
						"TriangleMesh"
					],
					"Index" : 0
				},
				{
					"Type" : "nap::LineSelectionComponent",
					"mID" : "LineSelectorTwo",
					"Lines" :
					[
						"LineFromFileMesh",
						"LineMesh",
						"RectangleMesh",
						"CircleMesh",
						"HexagonMesh",
						"TriangleMesh"
					],
					"Index" : 3
				},
				{
					"Type" : "nap::OSCInputComponent",
					"Addresses" : 
					[
						"/intensity",
						"/startposition",
						"/endposition",
						"/rotation",
						"/resetrotation",
						"/selection",
						"/blend",
						"/scale",
						"/position",
						"/modulation"
					]
				},
				{
					"Type" : "nap::OSCLaserInputHandler",
					"mID" : "OSCLaserInputHandler",
					"SelectionComponentOne" : "LineSelectorOne",
					"SelectionComponentTwo" : "LineSelectorTwo",
					"LaserOutputComponent" : "LaserOutputComponentOne"
				},
				{
					"Type" : "nap::TransformComponent",
					"Properties": 
					{
						"Translate": 
						{
							"x": 0.0,
							"y": 0.0,
							"z": 0.0
						},
						"Rotate": 
						{
							"x": 0.0,
							"y": 0.0,
							"z": 0.0,
							"w": 1.0
						},
						"Scale": 
						{
							"x": 1.0,
							"y": 1.0,
							"z": 1.0
						},
						"UniformScale": 100.0						
					}			
				},
				{
					"Type" : "nap::LineBlendComponent",
					"mID" : "LineBlender",
					"SelectionComponentOne" : "LineSelectorOne",
					"SelectionComponentTwo" : "LineSelectorTwo",
					"Target" : "LaserLineMesh",
					"BlendValue" : 0.0,
					"BlendSpeed" : 0.25
				},
				{
					"Type" : "nap::LineModulationComponent",
					"mID" : "LineModulator",
					"BlendComponent" : "LineBlender",
					"Properties" : 
					{
						"Frequency" : 1.0,
						"Speed" : 0.2,
						"Offset" : 0.0,
						"Amplitude" : 0.0,
						"Waveform" : "Sine",
						"Normalize" : false
					}
				},
				{
					"Type" : "nap::LineNoiseComponent",
					"mID" : "LineNoiseModulator",
					"BlendComponent" : "LineBlender",
					"Properties" : 
					{
						"Frequency" : 2.0,
						"Speed" : 0.1,
						"Offset" : 0.0,
						"Amplitude" : 0.2
					}
				},
				{
					"Type" : "nap::LineColorComponent",
					"mID" : "LineColorer",
					"BlendComponent" : "LineBlender",
					"StartPosition" : 
					{
						"x" : 0.0,
						"y" : 0.0
					},
					"EndPosition" : 
					{
						"x" : 1.0,
						"y" : 1.0
					},
					"LookupImage" : "ColorLookupImage",
					"Wrap" : true,
					"WrapPower" : 1.0
				},
				{
					"Type" : "nap::LineTraceComponent",
					"mID" : "LineTracer",
					"BlendComponent" : "LineBlender",
					"Target" : "LaserTraceMesh",
					"Properties" :
					{
						"Offset" : 0.0,
						"Speed" : 0.1,
						"Length" : 0.25
					}
				},
				{
					"Type" : "nap::RotateComponent",
					"Properties": 
					{
						"Axis": 
						{
							"x": 0.2,
							"y": 1.0,
							"z": 0.4
						},
						"Speed": 0.0,
						"Offset": 2.0
					}
				},
				{
					"Type" : "nap::RenderableMeshComponent",
					"Mesh" : "LaserLineMesh",
					"MaterialInstance" : 
					{
						"Material": "LineMaterial"
					}
				},
				{
					"Type" : "nap::RenderableMeshComponent",
					"Mesh" : "NormalsMesh",
					"MaterialInstance" : 
					{
						"Material": "NormalsMaterial",
						"BlendMode" : "AlphaBlend"
					}
				}
			]
		},

		{
			"Type" : "nap::Entity",
			"mID"  : "LaserDrawEntity",
			"Components" :
			[
				{
					"Type" : "nap::FrustrumSyncComponent"
				},
				{
					"Type" : "nap::TransformComponent"		
				},
				{
					"Type" : "nap::RenderableMeshComponent",
					"Mesh" : "CanvasMesh",
					"MaterialInstance" : 
					{
						"Material": "CanvasMaterial",
						"BlendMode" : "AlphaBlend"
					}
				}
			]
		},

		{
			"Type" : "nap::Entity",
			"mID": "LaserOutputEntity",

			"Components" : 
			[
				{
					"Type" : "nap::TransformComponent"		
				},
				{
					"Type":"nap::LaserOutputComponent",
					"mID" : "LaserOutputComponentOne",
					"Properties" :
					{
						"Frustrum" :
						{
							"x" : 512,
							"y" : 512
						}
					},
					"Dac" : "Laser1"
				},		
				{
					"Type":"nap::LaserOutputComponent",
					"Properties" :
					{
						"Frustrum" :
						{
							"x" : 512,
							"y" : 512
						}
					},
					"Dac" : "Laser2"
				},
				{
					"Type":"nap::LaserOutputComponent",
					"Properties" :
					{
						"Frustrum" :
						{
							"x" : 512,
							"y" : 512
						}
					},
					"Dac" : "Laser3"
				},
				{
					"Type":"nap::LaserOutputComponent",
					"Properties" :
					{
						"Frustrum" :
						{
							"x" : 512,
							"y" : 512
						}
					},
					"Dac" : "Laser4"
				}			
			],
			"Children" :
			[
				"LaserDrawEntity"
			] 
		}
	]
}